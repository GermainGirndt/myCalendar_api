import FakeAvailableTimeForAppointmentsRepository from '@modules/appointments/repositories/fakes/FakeAvailableTimeForAppointmentsRepository';
import CreateAvailableTimeForAppointmentsService from './CreateAvailableTimeForAppointmentsService';

describe('Create Available Time For Appointment', () => {
    it('should be able to create a available time for appointment', async () => {
        const fakeAvailableTimeForAppointmentsRepository = new FakeAvailableTimeForAppointmentsRepository();
        const createAvailableTimeForAppointmentsService = new CreateAvailableTimeForAppointmentsService(
            fakeAvailableTimeForAppointmentsRepository,
        );

        const start = '2025-01-10T10:00:00';
        const end = '2025-01-10T11:00:00';

        const startTimestamp = new Date(start);
        const endTimestamp = new Date(end);

        const availableTimeForAppointments = await createAvailableTimeForAppointmentsService.execute(
            { start: startTimestamp, end: endTimestamp },
        );

        expect(availableTimeForAppointments.start).toBe(start);
        expect(availableTimeForAppointments.end).toBe(end);
    });
});
